[pytest]
# Pytest configuration for NBA Props Model

# Test paths
testpaths = tests

# Output options
addopts =
    -v                          # Verbose output
    --strict-markers            # Ensure all markers are registered
    --tb=short                  # Short traceback format
    --cov=src                   # Coverage for src/ directory
    --cov-report=term-missing   # Show missing lines in coverage report
    --cov-report=html           # Generate HTML coverage report
    --cov-fail-under=60         # Fail if coverage < 60%
    -ra                         # Show summary of all test outcomes
    --durations=10              # Show 10 slowest tests

# Markers (for organizing tests)
markers =
    critical: Critical tests that must pass before production deployment
    slow: Tests that take >10 seconds to run
    integration: Integration tests (multiple modules)
    unit: Unit tests (single module)
    data_quality: Tests for data quality and validation
    temporal: Tests for temporal leakage prevention
    betting: Tests for betting logic and risk management

# Test discovery patterns
python_files = test_*.py *_test.py
python_classes = Test*
python_functions = test_*

# Coverage options
[coverage:run]
source = src
omit =
    */tests/*
    */__pycache__/*
    */site-packages/*
    */experiments/*
    */notebooks/*

[coverage:report]
exclude_lines =
    pragma: no cover
    def __repr__
    raise AssertionError
    raise NotImplementedError
    if __name__ == .__main__.:
    if TYPE_CHECKING:
    @abstractmethod
